<?xml version="1.0"?>
<ruleset name="PHP_CodeSniffer">
	<description>PHP CodeSniffer Configuration</description>

	<!-- https://github.com/PHPCompatibility/PHPCompatibilityWP -->
	<config name="testVersion" value="8.0-8.2"/>
	<rule ref="PHPCompatibilityWP"/>

	<!-- https://github.com/WordPress-Coding-Standards/WordPress-Coding-Standards/wiki/Customizable-sniff-properties -->
	<config name="minimum_supported_wp_version" value="6.5"/>

	<rule ref="WordPress-Core">
		<exclude name="WordPress.Files.FileName.NotHyphenatedLowercase"/>
		<exclude name="WordPress.Files.FileName.InvalidClassFileName"/>
		<exclude name="Generic.WhiteSpace.DisallowSpaceIndent" />
		<exclude name="Universal.WhiteSpace.CommaSpacing.NoSpaceAfterInFunctionDeclaration" />
		<exclude name="WordPress.DB.PreparedSQL.NotPrepared" />
		<exclude name="WordPress.DB.PreparedSQL.InterpolatedNotPrepared" />
		<exclude name="Squiz.Functions.MultiLineFunctionDeclaration.SpaceAfterFunction" />
		<exclude name="WordPress.NamingConventions.ValidVariableName.UsedPropertyNotSnakeCase" />
	</rule>

	<rule ref="WordPress-Extra" />

	<!-- Ignore slow DB query warnings -->
	<rule ref="WordPress.DB.SlowDBQuery">
		<exclude name="WordPress.DB.SlowDBQuery.slow_db_query_meta_query" />
		<exclude name="WordPress.DB.SlowDBQuery.slow_db_query_tax_query" />
	</rule>

	<rule ref="WordPress.Security.EscapeOutput">
		<exclude name="WordPress.Security.EscapeOutput.ExceptionNotEscaped" />
	</rule>

	<rule ref="Squiz.Commenting">
		<exclude name="Squiz.Commenting.FunctionComment.Missing" />
		<exclude name="Squiz.Commenting.InlineComment.InvalidEndChar" />
		<exclude name="Squiz.Commenting.FileComment.Missing" />
		<exclude name="Squiz.Commenting.FunctionComment.MissingParamComment" />
		<exclude name="Squiz.Commenting.VariableComment.Missing" />
		<exclude name="Squiz.Commenting.FunctionComment.WrongStyle" />
		<exclude name="Squiz.Commenting.FunctionCommentThrowTag.Missing" />
		<exclude name="Squiz.Commenting.VariableComment.MissingVar" />
	</rule>

	<rule ref="Generic.Commenting.DocComment">
		<exclude name="Generic.Commenting.DocComment.MissingShort" />
	</rule>

	<rule ref="Generic.CodeAnalysis.UnusedFunctionParameter">
		<exclude name="Generic.CodeAnalysis.UnusedFunctionParameter.Found" />
	</rule>

	<rule ref="WordPress">
		<exclude name="Universal.Arrays.DisallowShortArraySyntax"/>
	</rule>

	<rule ref="Squiz.Classes.ClassFileName" />
	<rule ref="Squiz.Commenting.ClassComment.Missing"/>
	<rule ref="Generic.Arrays.DisallowLongArraySyntax"/>

	<!-- https://www.php-fig.org/psr/psr-12/ -->
	<rule ref="Generic.WhiteSpace.ScopeIndent">
		<properties>
			<property name="indent" value="4"/>
			<property name="tabIndent" value="false"/>
		</properties>
	</rule>
	<rule ref="Generic.WhiteSpace.DisallowTabIndent" />

	<rule ref="WordPress.WP.I18n">
		<properties>
			<property name="text_domain" type="array">
				<element value="retailers-management-for-woocommerce"/>
			</property>
		</properties>
	</rule>

	<!-- Files and directories to check && auto fix -->
	<exclude-pattern>/node_modules/</exclude-pattern>
	<exclude-pattern>/apps/</exclude-pattern>
	<exclude-pattern>/assets/</exclude-pattern>
	<exclude-pattern>/dist/</exclude-pattern>
	<exclude-pattern>index.php</exclude-pattern>

	<!-- Do not fail on warnings -->
	<config name="ignore_warnings_on_exit" value="1" />

	<!-- Assume UTF-8 -->
	<config name="encoding" value="UTF-8" />

	<!-- Use colors -->
	<arg name="colors" />

	<!-- Show progress -->
	<arg value="p" />
</ruleset>